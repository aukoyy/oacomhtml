<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Øyvind Aukner • Projects</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="my-8 md:my-12 flex flex-col items-center px-4 md:px-8">
  <main class="w-full lg:max-w-2xl">
    <a href="/" class="cursor-pointer py-3 px-4 bg-gray-200 rounded text-base md:text-lg">Back</a>
    <h1 class="text-4xl md:text-5xl mt-8 break-words font-bold">Projects</h1>
    <div id="projects-container" class="mt-8 space-y-6 md:space-y-8">
      Loading...
    </div>
  </main>
</body>


<script>
  fetch('projects.json')
    .then(response => {
      if (!response.ok) throw new Error('Could not load projects.json');
      return response.json();
    })
    .then(projects => {
      const container = document.getElementById('projects-container');
      container.innerHTML = '';
      if (!Array.isArray(projects) || projects.length === 0) {
        container.textContent = 'No projects found.';
        return;
      }
      projects.forEach(project => {
        const div = document.createElement('div');
        div.className = 'project';
        div.innerHTML = `
          <div class="p-4 md:p-6 border rounded-lg shadow-sm hover:shadow-md transition-shadow">
            ${project.img_url ? `<img src="${project.img_url}" alt="${project.title}" class="w-full h-48 md:h-56 object-cover mb-4 rounded">` : ''}
            <div class="font-bold text-xl md:text-2xl mb-3 break-words leading-tight">${project.title}</div>
            <div class="text-gray-600 text-base md:text-lg leading-relaxed break-words mb-4">${project.description}</div>
            <div class="flex flex-wrap gap-2 mt-4">
              ${project.techStack.map(tech => `<span class="bg-green-100 text-green-800 px-3 py-1.5 rounded-full text-sm md:text-base">${tech}</span>`).join('')}
            </div>
          </div>
        `;
        container.appendChild(div);
      });
    })
    .catch(error => {
      document.getElementById('projects-container').textContent =
        error.message === 'Failed to fetch'
          ? 'Could not fetch projects.json. Make sure the file exists and is served by your web server.'
          : error.message;
    });
</script>
</body>

</html>